(this.webpackJsonpstarwars_fors=this.webpackJsonpstarwars_fors||[]).push([[0],{22:function(e,t,r){},24:function(e,t,r){},26:function(e,t,r){},27:function(e,t,r){},28:function(e,t,r){},29:function(e,t,r){},30:function(e,t,r){},31:function(e,t,r){},32:function(e,t,r){},33:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(5),c=r.n(a),o=r(2),i=r(4),s=r(10),u=r(11),b=r.n(u),d=r(3),l="REQUEST_TO_SERVER_FROM_DATA",j="SUCCESS_TO_SERVER_FROM_DATA",O="ERROR_TO_SERVER_FROM_DATA",m="USER_RECORD_NAME_FOR_SEARCH",f=["back","next"],p=["name","gender","mass","eye_color"],g=["Name","Gender","Mass","Eye color"],h={nameFromUser:""},_={dataOfTable:[],pagination:[],isLoading:!1,isError:!1,pageId:1},x=Object(i.b)({tableCharactersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.data,a=t.pagination,c=t.pageId;switch(r){case l:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0});case j:return Object(d.a)(Object(d.a)({},e),{},{dataOfTable:n,pagination:a,isLoading:!1,isError:!1,pageId:c});case O:return Object(d.a)(Object(d.a)({},e),{},{dataOfTable:[],pagination:[],isLoading:!1,isError:!0});default:return e}},userActions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.name;switch(r){case m:return Object(d.a)(Object(d.a)({},e),{},{nameFromUser:n});default:return e}}}),v=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,function(e){return e}),E=Object(i.d)(x,Object(i.c)(Object(i.a)(s.a,b.a),v)),N=(r(22),r(9)),R=r.n(N),y=r(12),T=function(){var e=Object(y.a)(R.a.mark((function e(t,r){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Promise,e.t1=new Promise((function(e,t){setTimeout((function(){t("Error connection")}),1e4)})),e.next=4,fetch("".concat("https://swapi.dev/api/people/?search=").concat(t,"&page=").concat(r));case 4:return e.next=6,e.sent.json();case 6:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.abrupt("return",e.t0.race.call(e.t0,e.t3));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),w=function(e,t){return function(r){r({type:l}),T(e,t).then((function(e){e.hasOwnProperty("detail")?r({type:O}):0===e.count?r({type:j,data:[{error:"None similar to your request"}],pagination:[e.previous,e.next],pageId:1}):r({type:j,data:e.results,pagination:[e.previous,e.next],pageId:t})})).catch((function(e){r({type:O})}))}},L=function(e,t,r){return!(!t&&!r)||("object"===typeof e||"string"!==typeof e&&void 0)},S=(r(24),r(1)),C=Object(n.memo)(Object(o.b)((function(e){var t=e.tableCharactersReducer;return{name:e.userActions.nameFromUser,pagination:t.pagination,isLoading:t.isLoading,isError:t.isError,pageId:t.pageId}}),(function(e){return{getToServerFromData:function(t,r){return e(w(t,r))}}}))((function(e){var t=e.pagination,r=e.isLoading,n=e.isError,a=e.getToServerFromData,c=e.pageId,o=e.name,i=f.map((function(e,i){return Object(S.jsx)("button",{className:"table-page__btn-pagintaion--".concat(e),onClick:function(){return function(e,t,r,n,a){n===f[1]?null!==r&&t(a,++e):null!==r&&t(a,--e)}(c,a,t[i],e,o)},disabled:L(t[i],r,n),children:"next"===e?">":"<"},i)}));return Object(S.jsx)(S.Fragment,{children:i})}))),F=(r(26),function(){var e=g.map((function(e,t){return Object(S.jsx)("th",{className:"table__name-row-th",children:e},t)}));return Object(S.jsx)("thead",{className:"table__thead",children:Object(S.jsx)("tr",{className:"table__name-row-tr",children:e})})}),A=function(e){var t=e.className,r=e.text;return Object(S.jsx)("td",{className:t,children:r})},D=Object(n.memo)(A),I=function(e){var t=e.values,r=p.map((function(e,r){return Object(S.jsx)(D,{text:t[e],className:e+"-style"},r)}));return Object(S.jsx)("tr",{children:r})},U=Object(n.memo)(I),k=(r(27),Object(n.memo)(Object(o.b)((function(e){return{data:e.tableCharactersReducer.dataOfTable}}))((function(e){var t=e.data,r=t.map((function(e,t){return e.hasOwnProperty("error")?"":Object(S.jsx)(U,{values:e},t)}));return 0!==t.length&&t[0].hasOwnProperty("error")?Object(S.jsxs)("p",{className:"table-page__p-error",children:[t[0].error,"."]}):Object(S.jsxs)("table",{className:"table-page__table",children:[Object(S.jsx)(F,{}),Object(S.jsx)("tbody",{children:r})]})})))),M=(r(28),Object(n.memo)(Object(o.b)((function(e){var t=e.tableCharactersReducer;return{isLoading:t.isLoading,isError:t.isError,data:t.dataOfTable}}),(function(e){return{getToServerFromData:function(t,r){return e(w(t,r))}}}))((function(e){var t=e.isLoading,r=e.data,a=e.isError,c=e.getToServerFromData;return Object(n.useLayoutEffect)((function(){0!==r.length||t||a||c("",1)})),t?Object(S.jsx)("p",{className:"table-page__p-loader",children:"Loading..."}):a?Object(S.jsx)("p",{className:"table-page__p-error",children:"Bad connection with server. Reload page, please."}):Object(S.jsx)("div",{className:"table-page__container-rows",children:Object(S.jsx)(k,{})})})))),P=(r(29),Object(n.memo)(Object(o.b)((function(e){var t=e.tableCharactersReducer;return{isLoading:t.isLoading,isError:t.isError}}),(function(e){return{recordName:function(t){return e((r=t,function(e){e({type:m,name:r})}));var r}}}))((function(e){var t=e.recordName,r=e.isLoading,n=e.isError;return Object(S.jsx)("input",{className:"form__search-input",disabled:r||n,onChange:function(e){t(e.currentTarget.value)}})})))),V=(r(30),Object(n.memo)(Object(o.b)((function(e){var t=e.userActions,r=e.tableCharactersReducer;return{name:t.nameFromUser,isLoading:r.isLoading,isError:r.isError}}),(function(e){return{searchName:function(t,r){return e(w(t,r))}}}))((function(e){var t=e.name,r=e.searchName,n=e.isLoading,a=e.isError;return Object(S.jsx)("button",{className:"form__btn-search",disabled:n||a,onClick:function(){r(t,1)},children:"Search"})})))),B=(r(31),Object(n.memo)(Object(o.b)()((function(){return Object(S.jsxs)("form",{className:"table-page__form",children:[Object(S.jsx)(P,{}),Object(S.jsx)(V,{})]})})))),J=(r(32),function(){return Object(S.jsxs)("div",{className:"table-page",children:[Object(S.jsx)(B,{}),Object(S.jsx)(M,{}),Object(S.jsx)("div",{className:"table-page__btn-pagination-container",children:Object(S.jsx)(C,{})})]})}),X=Object(n.memo)(J);var q=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(X,{})})};c.a.render(Object(S.jsx)(o.a,{store:E,children:Object(S.jsx)(q,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.06b439b0.chunk.js.map